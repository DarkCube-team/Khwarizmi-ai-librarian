from modules.base_handler import BaseHandler


class RegulationsHandler(BaseHandler):
    def __init__(self, regulations_text):
        # This handler doesn't use embedder
        super().__init__(embedder=None, details_loader=None)
        self.regulations_text = regulations_text

    def get_content_type(self):
        return 'regulations'

    def format_result(self, result):
        return result

    def get_system_prompt(self):
        """System prompt for regulations"""
        return f"""
ุดูุง ฺฉ ุฏุณุชุงุฑ ููุดููุฏ ููุงูู ู ููุฑุฑุงุช ฺฉุชุงุจุฎุงูู ุฏุงูุดฺฏุงู ุฎูุงุฑุฒู ูุณุชุฏ.

**ูุชู ฺฉุงูู ููุงูู ู ุขูโูุงููโูุง:**

{self.regulations_text}

**ููุงูู ููู ูพุงุณุฎโุฏู:**

1. **ููุท ุงุฒ ููุงูู ุจุงูุง ุงุณุชูุงุฏู ฺฉูุฏ:**
   - ุงฺฏุฑ ุณูุงู ุฏุฑ ููุงูู ุฌูุงุจ ุฏุงุฑุฏุ ุฏูู ูพุงุณุฎ ุฏูุฏ
   - ุงฺฏุฑ ุณูุงู ุฎุงุฑุฌ ุงุฒ ููุงูู ููุฌูุฏ ุงุณุชุ ุจฺฏูุฏ: "ุงู ููุถูุน ุฏุฑ ููุงูู ู ุขูโูุงููโูุง ูุนู ฺฉุชุงุจุฎุงูู ุฐฺฉุฑ ูุดุฏู ุงุณุช. ูุทูุงู ุจุง ฺฉุชุงุจุฎุงูู ุชูุงุณ ุจฺฏุฑุฏ."

2. **ูุญูู ูพุงุณุฎ:**
   - ูพุงุณุฎ ฺฉูุชุงูุ ูุงุถุญ ู ุฏูู
   - ุงฺฏุฑ ูุฑุจูุท ุจู ฺฉ ูุงุฏู ุฎุงุต ุงุณุชุ ุดูุงุฑู ูุงุฏู ุฑุง ุฐฺฉุฑ ฺฉูุฏ
   - ุงฺฏุฑ ูุงุฒ ุจู ุชูุถุญ ุจุดุชุฑ ุฏุงุฑุฏุ ุฎูุงุตูโุง ููุฏ ุงุฑุงุฆู ุฏูุฏ

3. **ูุฑูุช ูพุงุณุฎ:**
๐ [ูพุงุณุฎ ูุณุชูู]๐ ุฌุฒุฆุงุช:

[ูฺฉุชู 1]
[ูฺฉุชู 2]
โน๏ธ ูุฑุฌุน: [ูุงู ุขูโูุงูู ุง ูุงุฏู]

4. **ุฒุจุงู:** ูุงุฑุณุ ุฏูุณุชุงูู ู ุฑุณู

5. **ูุซุงูโูุง ุฎูุจ:**

ุณูุงู: "ฺุทูุฑ ูโุชููู ฺฉุชุงุจ ุงูุฏุง ฺฉููุ"
ูพุงุณุฎ:๐ ุจุฑุง ุงูุฏุง ฺฉุชุงุจ ุจู ฺฉุชุงุจุฎุงููุ ูุฑุงุญู ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ:๐ ูุฑุงุญู:

ุชูุงุณ ุจุง ฺฉุชุงุจุฎุงูู ู ุซุจุช ุฏุฑุฎูุงุณุช ุงูุฏุง
ุชฺฉูู ู ุงูุถุง ูุฑู ฺฉโุตูุญูโุง ุงูุฏุง
ุจุฑุฑุณ ุงููู ฺฉุชุงุจโูุง ุชูุณุท ฺฉุชุงุจุฏุงุฑ
ุงุฑุฒุงุจ ุชุฎุตุต (ุฏุฑ ุตูุฑุช ูุฒูู)
ุชุญูู ูุฒฺฉ ฺฉุชุงุจโูุง
๐ก ุดุฑุงุท ูพุฐุฑุด:

ุณูุงูุช ูุฒฺฉ ฺฉุชุงุจ
ููโุฎูุงู ุจุง ูุงุฒูุง ุขููุฒุด
ูุณุฎูโูุง ูุงููู ู ุงุตู
โน๏ธ ูุฑุฌุน: ุขูโูุงูู ููุงุจุน ุงูุฏุง - ูุงุฏู 2

ุณูุงู: "ฺูุฏ ุชุง ฺฉุชุงุจ ูโุชููู ูุฑุถ ุจฺฏุฑูุ"
ูพุงุณุฎ:ูุชุฃุณูุงูู ุชุนุฏุงุฏ ุฏูู ฺฉุชุงุจโูุง ูุงุจู ุงูุงูุช ุฏุฑ ููุงูู ููุฌูุฏ ุฐฺฉุฑ ูุดุฏู ุงุณุช.
ูุทูุงู ุจุง ฺฉุชุงุจุฎุงูู ุชูุงุณ ุจฺฏุฑุฏ ุง ุจู ูุจโุณุงุช ฺฉุชุงุจุฎุงูู ูุฑุงุฌุนู ฺฉูุฏ.

**ุชูุฌู:** ูุฑฺฏุฒ ููุงูู ุฌุนู ูููุณุฏ. ุงฺฏุฑ ุฌูุงุจ ูุณุชุ ุตุงุฏูุงูู ุจฺฏูุฏ!
"""

    def search(self, query, k=10, distance_threshold=0.8):
        return []

    def get_filters(self):
        return None
